(
    set -eu

    matches=($ZDOTDIR/functions/*/$1)
    filename=$matches[1]

    ${EDITOR:-vim} $filename

    dirname=${filename%/*}
    zcompile $dirname $dirname/*

    unfunction $filename
    autoload $filename
)
